{% extends 'main/base.html' %}

{% block title %}Appointment Confirmed - Medical Consultation System{% endblock %}

{% block content %}
<div style="max-width: 800px; margin: 0 auto; padding: 20px;">
  <div class="item" style="padding: 40px; text-align: center;">
    <div style="margin-bottom: 30px;">
      <span class="material-symbols-outlined" style="font-size: 72px; color: #28a745; margin-bottom: 20px; animation: pulse 2s infinite;">check_circle</span>
      <h1 style="font-size: 32px; font-weight: 700; color: var(--text-color); margin-bottom: 15px;">ðŸŽ‰ Appointment Confirmed!</h1>
      <p style="color: var(--light-text-color); font-size: 18px; font-weight: 500;">Your appointment has been successfully booked and is now in our system.</p>
      <p style="color: var(--primary-color); font-size: 16px; font-weight: 600; margin-top: 10px;">
        Appointment ID: #{{ appointment.id }} | Status: <span style="color: #f39c12;">PENDING</span>
      </p>
    </div>

    <!-- Appointment Details -->
    <div style="background: var(--dashboard-body-color); border-radius: 12px; padding: 30px; margin-bottom: 30px; text-align: left;">
      <h3 style="font-size: 20px; font-weight: 600; color: var(--text-color); margin-bottom: 20px; text-align: center;">Appointment Details</h3>
      
      <div style="display: grid; gap: 15px;">
        <div style="display: flex; justify-content: space-between; align-items: center; padding: 10px 0; border-bottom: 1px solid var(--border-color);">
          <span style="font-weight: 500; color: var(--text-color);">Doctor:</span>
          <span style="color: var(--light-text-color);">Dr. {{ appointment.doctor.user.get_full_name }}</span>
        </div>
        
        <div style="display: flex; justify-content: space-between; align-items: center; padding: 10px 0; border-bottom: 1px solid var(--border-color);">
          <span style="font-weight: 500; color: var(--text-color);">Specialty:</span>
          <span style="color: var(--light-text-color);">{{ appointment.doctor.specialty.name }}</span>
        </div>
        
        <div style="display: flex; justify-content: space-between; align-items: center; padding: 10px 0; border-bottom: 1px solid var(--border-color);">
          <span style="font-weight: 500; color: var(--text-color);">Patient:</span>
          <span style="color: var(--light-text-color);">{{ appointment.patient_name }}</span>
        </div>
        
        <div style="display: flex; justify-content: space-between; align-items: center; padding: 10px 0; border-bottom: 1px solid var(--border-color);">
          <span style="font-weight: 500; color: var(--text-color);">Email:</span>
          <span style="color: var(--light-text-color);">{{ appointment.patient_email }}</span>
        </div>
        
        <div style="display: flex; justify-content: space-between; align-items: center; padding: 10px 0; border-bottom: 1px solid var(--border-color);">
          <span style="font-weight: 500; color: var(--text-color);">Phone:</span>
          <span style="color: var(--light-text-color);">{{ appointment.patient_phone }}</span>
        </div>
        
        <div style="display: flex; justify-content: space-between; align-items: center; padding: 10px 0; border-bottom: 1px solid var(--border-color);">
          <span style="font-weight: 500; color: var(--text-color);">Date:</span>
          <span style="color: var(--light-text-color);">{{ appointment.appointment_date|date:"F d, Y" }}</span>
        </div>
        
        <div style="display: flex; justify-content: space-between; align-items: center; padding: 10px 0; border-bottom: 1px solid var(--border-color);">
          <span style="font-weight: 500; color: var(--text-color);">Time:</span>
          <span style="color: var(--light-text-color);">{{ appointment.appointment_time|time:"g:i A" }}</span>
        </div>
        
        <div style="display: flex; justify-content: space-between; align-items: center; padding: 10px 0; border-bottom: 1px solid var(--border-color);">
          <span style="font-weight: 500; color: var(--text-color);">Status:</span>
          <span style="color: var(--primary-color); font-weight: 500;">{{ appointment.get_status_display }}</span>
        </div>
        
        {% if appointment.reason %}
        <div style="padding: 10px 0;">
          <span style="font-weight: 500; color: var(--text-color); display: block; margin-bottom: 8px;">Reason for Visit:</span>
          <p style="color: var(--light-text-color); margin: 0; padding: 10px; background: var(--white-color); border-radius: 6px; font-size: 14px;">{{ appointment.reason }}</p>
        </div>
        {% endif %}
      </div>
    </div>

    <!-- Success Alert -->
    <div style="background: #d4edda; border: 1px solid #c3e6cb; border-radius: 8px; padding: 20px; margin-bottom: 20px; text-align: center;">
      <div style="display: flex; align-items: center; justify-content: center; margin-bottom: 10px;">
        <span class="material-symbols-outlined" style="color: #155724; font-size: 24px; margin-right: 8px;">notifications_active</span>
        <h4 style="color: #155724; margin: 0; font-size: 18px; font-weight: 600;">Booking Confirmed!</h4>
      </div>
      <p style="color: #155724; margin: 0; font-size: 14px;">
        You will receive an email confirmation at <strong>{{ appointment.patient_email }}</strong> shortly.
        Please keep your appointment ID <strong>#{{ appointment.id }}</strong> for future reference.
      </p>
    </div>

    <!-- Important Information -->
    <div style="background: #fff3cd; border: 1px solid #ffeaa7; border-radius: 8px; padding: 20px; margin-bottom: 30px; text-align: left;">
      <h4 style="color: #856404; margin-bottom: 10px; font-size: 16px; font-weight: 600;">Important Information:</h4>
      <ul style="color: #856404; margin: 0; padding-left: 20px; font-size: 14px;">
        <li>Please arrive 15 minutes before your appointment time</li>
        <li>Bring a valid ID and any previous medical records</li>
        <li>Your appointment is currently <span style="color: #f39c12; font-weight: 600;">PENDING</span> confirmation from the doctor</li>
        <li>The doctor will review your case and respond within 24-48 hours</li>
        <li>You can check your appointment status anytime using your appointment ID</li>
      </ul>
    </div>

    <!-- Action Buttons -->
    <div style="display: flex; gap: 15px; justify-content: center; flex-wrap: wrap;">
      <a href="{% url 'main:doctors_list_view' %}" 
         style="background: var(--primary-color); color: white; padding: 12px 24px; border-radius: 8px; text-decoration: none; font-weight: 500; transition: var(--tran-03);">
        Book Another Appointment
      </a>
      
      <a href="{% url 'main:my_appointments_view' %}?email={{ appointment.patient_email }}" 
         style="background: var(--white-color); color: var(--text-color); padding: 12px 24px; border-radius: 8px; text-decoration: none; font-weight: 500; border: 1px solid var(--border-color); transition: var(--tran-03);">
        View My Appointments
      </a>
      
      <a href="{% url 'main:home_view' %}" 
         style="background: var(--white-color); color: var(--text-color); padding: 12px 24px; border-radius: 8px; text-decoration: none; font-weight: 500; border: 1px solid var(--border-color); transition: var(--tran-03);">
        Back to Home
      </a>
    </div>
  </div>
</div>

<style>
@keyframes pulse {
  0% {
    transform: scale(1);
    opacity: 1;
  }
  50% {
    transform: scale(1.05);
    opacity: 0.8;
  }
  100% {
    transform: scale(1);
    opacity: 1;
  }
}

/* Button hover effects */
a[style*="background: var(--primary-color)"]:hover {
  background: var(--primary-color2) !important;
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(66, 133, 244, 0.3);
}

a[style*="border: 1px solid"]:hover {
  background: var(--dashboard-body-color) !important;
  transform: translateY(-1px);
}

/* Notification animations */
div[style*="background: #d4edda"] {
  animation: slideIn 0.5s ease-out;
}

@keyframes slideIn {
  from {
    opacity: 0;
    transform: translateY(-20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}
</style>
{% endblock %} 